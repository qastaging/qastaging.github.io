<!DOCTYPE html>
<html>
<head>

<script type="text/javascript">
    (function(p,u,s,h){
        p._pcq=p._pcq||[];
        p._pcq.push(['_currentTime',Date.now()]);
        s=u.createElement('script');
        s.type='text/javascript';
        s.async=true;
        s.src='https://cdn.pushcrewstaging.com/js/4ddc7714d22b3ae8f7dc18eaf449b13c.js';
        h=u.getElementsByTagName('script')[0];
        h.parentNode.insertBefore(s,h);
    })(window,document);
</script>

<script type="text/javascript">

window._pcq = window._pcq || [];
_pcq.push(['APIReady', callbackOnAPIReady]); //will execute callback function when PushCrew API is ready

_pcq.push(['subscriptionSuccessCallback',callbackOnSuccessfulSubscription]); //registers callback function to be called when user gets successfully subscribed

function addToAppropriateSegment() {
    if(window.location.href.indexOf("category1") > -1) {
        _pcq.push(['addSubscriberToSegment', 'category1']);
    }
    else if(window.location.href.indexOf("category2") > -1) {
        _pcq.push(['addSubscriberToSegment', 'category2']);
    }
    else if(window.location.href.indexOf("category3") > -1) {
        _pcq.push(['addSubscriberToSegment', 'category3']);
    }
}

function callbackOnAPIReady() {
   addToAppropriateSegment();
}

function callbackOnSuccessfulSubscription(subscriberId, values) {
   addToAppropriateSegment();
}</script>

<h1>QA Website. Add subscriber to a segment</h1>
<br><p>Click on Allow/Yes to subscribe to push notifications by PushCrew</p>
</body>
</html>
